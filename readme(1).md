# 项目实现方式

## 设计思路 & 问题优化思路

- 需求：目前智能网联汽车教育产品涉及多大20余种产品，每种产品又从标准名称、展示图片、视频、逻辑框架、配置参数、成本估算、周期估算、工作清单、三维结构、问题日志、相关手册、研发进度等，大部分要求可网页直接编辑，并且在相关界面进行数据汇总（比如成本汇总）等

- 涉及数据：智能网联产品体系.xlsx，产品图片，软件界面，产品视频，逻辑框架，配置参数，成本核算，三维结构，产品手册

- 主要使用python的flask框架进行项目的工作。前后端分头进行。页面包括html模板文件，css样式，js文件。后端主要编写路由及数据库操作，并根据已有文件进行数据库初始化。并根据实际情况不断调整数据库结构。

-在页面进行的操作大多都会对应一个路由，并绑定一个函数，主要是进行数据库的操作及处理，完成后又返回到当前页面，以此完成刷新效果。页面的主要功能通过js实现，包括动态生成表格，并根据后端的json接口填充数据及展示图片等内容。



## 完成情况

- 实现基本功能：

- 1.登录页：登录及用户验证

- 2.首页：展示产品基本信息，如序号——分类——名称——版本——研发成本(万元)——批量成本(万元)——售价(万元)——更新时间——负责人，并能够进行排序和查看修改删除操作。

- 3.详情页面：展示产品内容，包括产品名称、版本、分类、负责人等基本信息，产品图片，软件界面，产品视频，逻辑框架等图片视频类信息，配置参数，成本核算三维结构等详细信息。提供三维结构和产品手册的下载。

- 4.修改页面：能够修改产品基本信息，添加和删除图片，添加新表和删除表，添加新行和删除行，修改行内容，表名等。产品手册的上传和下载。

# 项目结构

> 代码内对主要函数有功能解释说明

- **.idea**：存放项目的配置信息，包括历史记录，版本控制信息等。

- **__pycache__**:完成python解释器工作，1、完成模块的加载和链接；2、将源代码编译为PyCodeObject对象(即字节码)，写入内存中，供CPU读取；3、从内存中读取并执行，结束后将PyCodeObject写回硬盘当中，也就是复制到.pyc或.pyo文件中，以保存当前目录下所有脚本的字节码文件。

- **static**：
	+**_MACOSX**:苹果系统自带的存放文件配置信息
	+**css**:网页使用的css文件
	+**details**:存放产品图片，产品视频，产品手册，成本核算（在数据库初始化时从xlsx中读取数据）,逻辑框架，配置参数，软件界面，三维结构文件夹，提供数据库初始化信息，产品图片路径，以及下载功能的文件存储路径。
	+**js**：前端使用的js文件
	+**photos**:网页内使用到的与产品内容无关但必需的图片
	+**.DS_store**:苹果系统存贮目录的自定义属性

- **templates**：html模板文件

- **venv**：独立的python虚拟环境，不必为了某些不同环境而反复卸载安装库

- **.DS_store**:苹果系统存贮目录的自定义属性

- **database_test.py**:基础的数据库连接和最简单的cursor

- **project.py**：项目入口及最主要的功能实现，数据库初始化等一系列操作。

- **readme.md:本文件

- **requirements.txt**：python package需求列表


# 项目环境及配置

## 项目环境

- **OS**：Windows10或MAC

- **Python**：3.6或3.8，python package相关存储在requirements.txt文件中

- **MySQL**： 8.0.15

## 环境配置

- Windows系统或MAC系统

- 安装Python3.6或3.8与MySQL环境

- 进入项目根目录，执行

```cmd
python3 -m pip install -r requirements.txt
```


# 实时交通信号目标检测系统使用方式

## 说明

> 进入项目根目录，执行

- **project.py**：运行此文件即可。

- 运行过程中通过127.0.0.1:5000/login进入页面，端口及监听可自行设置。

## 其他

- 上传的图片视频等会对应的存放到产品视频，软件界面等文件夹。可供下载的产品手册，三维结构等也存放在对应的产品手册和三维结构文件夹下。


## 例子

- **：通过127.0.0.1:5000/login进入登录页面。

- **：输入用户名密码验证登录后进入主页。

- **：查看产品基本信息，排序，也可以删除或者点击查看按钮进入详情页面。

- **：添加新产品时跳转，输入基本信息后点击添加按钮。并通过左上角logo返回到主页

- **：通过主页的修改按钮对新产品进行修改，包括添加图片，添加新表，添加新行，软硬件成本等，产品手册的上传。


## 未来优化方向

- 加入用户权限功能，分为管理员，用户，游客等不同身份。能够看到和进入的页面也不同。产品的添加可以直接在网页上进行，也可以后台操作数据库直接添加，页面展示。使用更好的MySQL索引优化查询，修改，删除，插入操作。使用必要的触发器去更新不便修改的数据。服务器进行优化处理，提高并发性，使得多人同时操作数据库时不出现严重错误。